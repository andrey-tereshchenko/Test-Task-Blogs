# Test-Task-Blogs
### Описание запуска проекта
1. Установите docker, docker-compose
2. Скачайте данный репозиторий
3. Откройте терминал в директории проекта для сборки образа и запуска контейнера(для ubuntu перед командой docker-compose писать sudo):
```
docker-compose up -d
```
4. Создания суперпользователя для этого выполняем:
```
docker-compose exec web ./manage.py createsuperuser
```
5. Открываем http://0.0.0.0:8000/admin в браузере и проходим авторизацию
6. Создаем пользователей для работы в приложении(нужен статус для пользователя stuff для авторизации и почта для получения сообщений)
7. http://0.0.0.0:8000/blogs/<:id>  - url для просмотра блога пользователя вместо <:id> пишем реальный id блога(совпадает с id пользователей). Если авторизированый пользователь является владельцем блога он будет видеть кнопку для создания постов, иначе кнопка для подписки/отписки 
8. http://0.0.0.0:8000/blogs/post/create - url для создания поста в блог авторизованного пользователя
9. http://0.0.0.0:8000/blogs/news - url для просмотра ленты новостей(посты с подписанных блогов)
10. Для отправки сообщения при создании поста нужно в test_task_blog/settings.py заполнить:
```
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_HOST_USER = 'YOU_EMAIL'
EMAIL_HOST_PASSWORD = 'YOU_PASSWORD'
```
и в файле blogs/views.py в классе раскомментировать строку:
```
send_letter_to_user(blog, path)
```
